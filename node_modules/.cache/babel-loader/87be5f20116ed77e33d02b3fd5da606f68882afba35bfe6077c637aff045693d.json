{"ast":null,"code":"import _objectSpread from\"/home/hyphen/MERN-ecommerce-Frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import{Counter}from'./features/counter/Counter';import'./App.css';import Home from'./pages/Home';import LoginPage from'./pages/LoginPage';import SignupPage from'./pages/SignupPage';import{createBrowserRouter,Link,RouterProvider}from'react-router-dom';import CartPage from'./pages/CartPage';import Checkout from'./pages/Checkout';import ProductDetailPage from'./pages/ProductDetailPage';import Protected from'./features/auth/components/Protected';import{useEffect}from'react';import{useDispatch,useSelector}from'react-redux';import{checkAuthAsync,selectLoggedInUser,selectUserChecked}from'./features/auth/authSlice';import{fetchItemsByUserIdAsync}from'./features/cart/cartSlice';import PageNotFound from'./pages/404';import OrderSuccessPage from'./pages/OrderSuccessPage';import UserOrdersPage from'./pages/UserOrdersPage';import UserProfilePage from'./pages/UserProfilePage';import{fetchLoggedInUserAsync}from'./features/user/userSlice';import Logout from'./features/auth/components/Logout';import ForgotPasswordPage from'./pages/ForgotPasswordPage';import ProtectedAdmin from'./features/auth/components/ProtectedAdmin';import AdminHome from'./pages/AdminHome';import AdminProductDetailPage from'./pages/AdminProductDetailPage';import AdminProductFormPage from'./pages/AdminProductFormPage';import AdminOrdersPage from'./pages/AdminOrdersPage';import{positions,Provider}from'react-alert';import AlertTemplate from'react-alert-template-basic';import StripeCheckout from'./pages/StripeCheckout';import ResetPasswordPage from'./pages/ResetPasswordPage';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";import{Fragment as _Fragment}from\"react/jsx-runtime\";var options={timeout:5000,position:positions.BOTTOM_LEFT};var router=createBrowserRouter([{path:'/',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(Home,{})})},{path:'/admin',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminHome,{})})},{path:'/login',element:/*#__PURE__*/_jsx(LoginPage,{})},{path:'/signup',element:/*#__PURE__*/_jsx(SignupPage,{})},{path:'/cart',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(CartPage,{})})},{path:'/checkout',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(Checkout,{})})},{path:'/product-detail/:id',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(ProductDetailPage,{})})},{path:'/admin/product-detail/:id',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductDetailPage,{})})},{path:'/admin/product-form',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductFormPage,{})})},{path:'/admin/orders',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminOrdersPage,{})})},{path:'/admin/product-form/edit/:id',element:/*#__PURE__*/_jsx(ProtectedAdmin,{children:/*#__PURE__*/_jsx(AdminProductFormPage,{})})},{path:'/order-success/:id',element:/*#__PURE__*/_jsxs(Protected,{children:[/*#__PURE__*/_jsx(OrderSuccessPage,{}),' ']})},{path:'/my-orders',element:/*#__PURE__*/_jsxs(Protected,{children:[/*#__PURE__*/_jsx(UserOrdersPage,{}),' ']})},{path:'/profile',element:/*#__PURE__*/_jsxs(Protected,{children:[/*#__PURE__*/_jsx(UserProfilePage,{}),' ']})},{path:'/stripe-checkout/',element:/*#__PURE__*/_jsx(Protected,{children:/*#__PURE__*/_jsx(StripeCheckout,{})})},{path:'/logout',element:/*#__PURE__*/_jsx(Logout,{})},{path:'/forgot-password',element:/*#__PURE__*/_jsx(ForgotPasswordPage,{})},{path:'/reset-password',element:/*#__PURE__*/_jsx(ResetPasswordPage,{})},{path:'*',element:/*#__PURE__*/_jsx(PageNotFound,{})}]);function App(){var dispatch=useDispatch();var user=useSelector(selectLoggedInUser);var userChecked=useSelector(selectUserChecked);useEffect(function(){dispatch(checkAuthAsync());},[dispatch]);useEffect(function(){if(user){dispatch(fetchItemsByUserIdAsync());// we can get req.user by token on backend so no need to give in front-end\ndispatch(fetchLoggedInUserAsync());}},[dispatch,user]);return/*#__PURE__*/_jsx(_Fragment,{children:/*#__PURE__*/_jsx(\"div\",{className:\"App\",children:userChecked&&/*#__PURE__*/_jsx(Provider,_objectSpread(_objectSpread({template:AlertTemplate},options),{},{children:/*#__PURE__*/_jsx(RouterProvider,{router:router})}))})});}export default App;","map":{"version":3,"names":["Counter","Home","LoginPage","SignupPage","createBrowserRouter","Link","RouterProvider","CartPage","Checkout","ProductDetailPage","Protected","useEffect","useDispatch","useSelector","checkAuthAsync","selectLoggedInUser","selectUserChecked","fetchItemsByUserIdAsync","PageNotFound","OrderSuccessPage","UserOrdersPage","UserProfilePage","fetchLoggedInUserAsync","Logout","ForgotPasswordPage","ProtectedAdmin","AdminHome","AdminProductDetailPage","AdminProductFormPage","AdminOrdersPage","positions","Provider","AlertTemplate","StripeCheckout","ResetPasswordPage","jsx","_jsx","jsxs","_jsxs","Fragment","_Fragment","options","timeout","position","BOTTOM_LEFT","router","path","element","children","App","dispatch","user","userChecked","className","_objectSpread","template"],"sources":["/home/hyphen/MERN-ecommerce-Frontend/src/App.js"],"sourcesContent":["import { Counter } from './features/counter/Counter';\nimport './App.css';\nimport Home from './pages/Home';\nimport LoginPage from './pages/LoginPage';\nimport SignupPage from './pages/SignupPage';\n\nimport { createBrowserRouter, Link, RouterProvider } from 'react-router-dom';\nimport CartPage from './pages/CartPage';\nimport Checkout from './pages/Checkout';\nimport ProductDetailPage from './pages/ProductDetailPage';\nimport Protected from './features/auth/components/Protected';\nimport { useEffect } from 'react';\nimport { useDispatch, useSelector } from 'react-redux';\nimport {\n  checkAuthAsync,\n  selectLoggedInUser,\n  selectUserChecked,\n} from './features/auth/authSlice';\nimport { fetchItemsByUserIdAsync } from './features/cart/cartSlice';\nimport PageNotFound from './pages/404';\nimport OrderSuccessPage from './pages/OrderSuccessPage';\nimport UserOrdersPage from './pages/UserOrdersPage';\nimport UserProfilePage from './pages/UserProfilePage';\nimport { fetchLoggedInUserAsync } from './features/user/userSlice';\nimport Logout from './features/auth/components/Logout';\nimport ForgotPasswordPage from './pages/ForgotPasswordPage';\nimport ProtectedAdmin from './features/auth/components/ProtectedAdmin';\nimport AdminHome from './pages/AdminHome';\nimport AdminProductDetailPage from './pages/AdminProductDetailPage';\nimport AdminProductFormPage from './pages/AdminProductFormPage';\nimport AdminOrdersPage from './pages/AdminOrdersPage';\nimport { positions, Provider } from 'react-alert';\nimport AlertTemplate from 'react-alert-template-basic';\nimport StripeCheckout from './pages/StripeCheckout';\nimport ResetPasswordPage from './pages/ResetPasswordPage';\n\nconst options = {\n  timeout: 5000,\n  position: positions.BOTTOM_LEFT,\n};\n\nconst router = createBrowserRouter([\n  {\n    path: '/',\n    element: (\n      <Protected>\n        <Home></Home>\n      </Protected>\n    ),\n  },\n  {\n    path: '/admin',\n    element: (\n      <ProtectedAdmin>\n        <AdminHome></AdminHome>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: '/login',\n    element: <LoginPage></LoginPage>,\n  },\n  {\n    path: '/signup',\n    element: <SignupPage></SignupPage>,\n  },\n  {\n    path: '/cart',\n    element: (\n      <Protected>\n        <CartPage></CartPage>\n      </Protected>\n    ),\n  },\n  {\n    path: '/checkout',\n    element: (\n      <Protected>\n        <Checkout></Checkout>\n      </Protected>\n    ),\n  },\n  {\n    path: '/product-detail/:id',\n    element: (\n      <Protected>\n        <ProductDetailPage></ProductDetailPage>\n      </Protected>\n    ),\n  },\n  {\n    path: '/admin/product-detail/:id',\n    element: (\n      <ProtectedAdmin>\n        <AdminProductDetailPage></AdminProductDetailPage>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: '/admin/product-form',\n    element: (\n      <ProtectedAdmin>\n        <AdminProductFormPage></AdminProductFormPage>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: '/admin/orders',\n    element: (\n      <ProtectedAdmin>\n        <AdminOrdersPage></AdminOrdersPage>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: '/admin/product-form/edit/:id',\n    element: (\n      <ProtectedAdmin>\n        <AdminProductFormPage></AdminProductFormPage>\n      </ProtectedAdmin>\n    ),\n  },\n  {\n    path: '/order-success/:id',\n    element: (\n      <Protected>\n        <OrderSuccessPage></OrderSuccessPage>{' '}\n      </Protected>\n    ),\n  },\n  {\n    path: '/my-orders',\n    element: (\n      <Protected>\n        <UserOrdersPage></UserOrdersPage>{' '}\n      </Protected>\n    ),\n  },\n  {\n    path: '/profile',\n    element: (\n      <Protected>\n        <UserProfilePage></UserProfilePage>{' '}\n      </Protected>\n    ),\n  },\n  {\n    path: '/stripe-checkout/',\n    element: (\n      <Protected>\n        <StripeCheckout></StripeCheckout>\n      </Protected>\n    ),\n  },\n  {\n    path: '/logout',\n    element: <Logout></Logout>,\n  },\n  {\n    path: '/forgot-password',\n    element: <ForgotPasswordPage></ForgotPasswordPage>,\n  },\n  {\n    path: '/reset-password',\n    element: <ResetPasswordPage></ResetPasswordPage>,\n  },\n  {\n    path: '*',\n    element: <PageNotFound></PageNotFound>,\n  },\n]);\n\nfunction App() {\n  const dispatch = useDispatch();\n  const user = useSelector(selectLoggedInUser);\n  const userChecked = useSelector(selectUserChecked);\n\n  useEffect(() => {\n    dispatch(checkAuthAsync());\n  }, [dispatch]);\n\n  useEffect(() => {\n    if (user) {\n      dispatch(fetchItemsByUserIdAsync());\n      // we can get req.user by token on backend so no need to give in front-end\n      dispatch(fetchLoggedInUserAsync());\n    }\n  }, [dispatch, user]);\n\n  return (\n    <>\n      <div className=\"App\">\n        {userChecked && (\n          <Provider template={AlertTemplate} {...options}>\n            <RouterProvider router={router} />\n          </Provider>\n        )}\n        {/* Link must be inside the Provider */}\n      </div>\n    </>\n  );\n}\n\nexport default App;\n"],"mappings":"yHAAA,OAASA,OAAO,KAAQ,4BAA4B,CACpD,MAAO,WAAW,CAClB,MAAO,CAAAC,IAAI,KAAM,cAAc,CAC/B,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,UAAU,KAAM,oBAAoB,CAE3C,OAASC,mBAAmB,CAAEC,IAAI,CAAEC,cAAc,KAAQ,kBAAkB,CAC5E,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,QAAQ,KAAM,kBAAkB,CACvC,MAAO,CAAAC,iBAAiB,KAAM,2BAA2B,CACzD,MAAO,CAAAC,SAAS,KAAM,sCAAsC,CAC5D,OAASC,SAAS,KAAQ,OAAO,CACjC,OAASC,WAAW,CAAEC,WAAW,KAAQ,aAAa,CACtD,OACEC,cAAc,CACdC,kBAAkB,CAClBC,iBAAiB,KACZ,2BAA2B,CAClC,OAASC,uBAAuB,KAAQ,2BAA2B,CACnE,MAAO,CAAAC,YAAY,KAAM,aAAa,CACtC,MAAO,CAAAC,gBAAgB,KAAM,0BAA0B,CACvD,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,eAAe,KAAM,yBAAyB,CACrD,OAASC,sBAAsB,KAAQ,2BAA2B,CAClE,MAAO,CAAAC,MAAM,KAAM,mCAAmC,CACtD,MAAO,CAAAC,kBAAkB,KAAM,4BAA4B,CAC3D,MAAO,CAAAC,cAAc,KAAM,2CAA2C,CACtE,MAAO,CAAAC,SAAS,KAAM,mBAAmB,CACzC,MAAO,CAAAC,sBAAsB,KAAM,gCAAgC,CACnE,MAAO,CAAAC,oBAAoB,KAAM,8BAA8B,CAC/D,MAAO,CAAAC,eAAe,KAAM,yBAAyB,CACrD,OAASC,SAAS,CAAEC,QAAQ,KAAQ,aAAa,CACjD,MAAO,CAAAC,aAAa,KAAM,4BAA4B,CACtD,MAAO,CAAAC,cAAc,KAAM,wBAAwB,CACnD,MAAO,CAAAC,iBAAiB,KAAM,2BAA2B,CAAC,OAAAC,GAAA,IAAAC,IAAA,gCAAAC,IAAA,IAAAC,KAAA,gCAAAC,QAAA,IAAAC,SAAA,yBAE1D,GAAM,CAAAC,OAAO,CAAG,CACdC,OAAO,CAAE,IAAI,CACbC,QAAQ,CAAEb,SAAS,CAACc,WACtB,CAAC,CAED,GAAM,CAAAC,MAAM,CAAGzC,mBAAmB,CAAC,CACjC,CACE0C,IAAI,CAAE,GAAG,CACTC,OAAO,cACLX,IAAA,CAAC1B,SAAS,EAAAsC,QAAA,cACRZ,IAAA,CAACnC,IAAI,GAAO,CAAC,CACJ,CAEf,CAAC,CACD,CACE6C,IAAI,CAAE,QAAQ,CACdC,OAAO,cACLX,IAAA,CAACX,cAAc,EAAAuB,QAAA,cACbZ,IAAA,CAACV,SAAS,GAAY,CAAC,CACT,CAEpB,CAAC,CACD,CACEoB,IAAI,CAAE,QAAQ,CACdC,OAAO,cAAEX,IAAA,CAAClC,SAAS,GAAY,CACjC,CAAC,CACD,CACE4C,IAAI,CAAE,SAAS,CACfC,OAAO,cAAEX,IAAA,CAACjC,UAAU,GAAa,CACnC,CAAC,CACD,CACE2C,IAAI,CAAE,OAAO,CACbC,OAAO,cACLX,IAAA,CAAC1B,SAAS,EAAAsC,QAAA,cACRZ,IAAA,CAAC7B,QAAQ,GAAW,CAAC,CACZ,CAEf,CAAC,CACD,CACEuC,IAAI,CAAE,WAAW,CACjBC,OAAO,cACLX,IAAA,CAAC1B,SAAS,EAAAsC,QAAA,cACRZ,IAAA,CAAC5B,QAAQ,GAAW,CAAC,CACZ,CAEf,CAAC,CACD,CACEsC,IAAI,CAAE,qBAAqB,CAC3BC,OAAO,cACLX,IAAA,CAAC1B,SAAS,EAAAsC,QAAA,cACRZ,IAAA,CAAC3B,iBAAiB,GAAoB,CAAC,CAC9B,CAEf,CAAC,CACD,CACEqC,IAAI,CAAE,2BAA2B,CACjCC,OAAO,cACLX,IAAA,CAACX,cAAc,EAAAuB,QAAA,cACbZ,IAAA,CAACT,sBAAsB,GAAyB,CAAC,CACnC,CAEpB,CAAC,CACD,CACEmB,IAAI,CAAE,qBAAqB,CAC3BC,OAAO,cACLX,IAAA,CAACX,cAAc,EAAAuB,QAAA,cACbZ,IAAA,CAACR,oBAAoB,GAAuB,CAAC,CAC/B,CAEpB,CAAC,CACD,CACEkB,IAAI,CAAE,eAAe,CACrBC,OAAO,cACLX,IAAA,CAACX,cAAc,EAAAuB,QAAA,cACbZ,IAAA,CAACP,eAAe,GAAkB,CAAC,CACrB,CAEpB,CAAC,CACD,CACEiB,IAAI,CAAE,8BAA8B,CACpCC,OAAO,cACLX,IAAA,CAACX,cAAc,EAAAuB,QAAA,cACbZ,IAAA,CAACR,oBAAoB,GAAuB,CAAC,CAC/B,CAEpB,CAAC,CACD,CACEkB,IAAI,CAAE,oBAAoB,CAC1BC,OAAO,cACLT,KAAA,CAAC5B,SAAS,EAAAsC,QAAA,eACRZ,IAAA,CAACjB,gBAAgB,GAAmB,CAAC,CAAC,GAAG,EAChC,CAEf,CAAC,CACD,CACE2B,IAAI,CAAE,YAAY,CAClBC,OAAO,cACLT,KAAA,CAAC5B,SAAS,EAAAsC,QAAA,eACRZ,IAAA,CAAChB,cAAc,GAAiB,CAAC,CAAC,GAAG,EAC5B,CAEf,CAAC,CACD,CACE0B,IAAI,CAAE,UAAU,CAChBC,OAAO,cACLT,KAAA,CAAC5B,SAAS,EAAAsC,QAAA,eACRZ,IAAA,CAACf,eAAe,GAAkB,CAAC,CAAC,GAAG,EAC9B,CAEf,CAAC,CACD,CACEyB,IAAI,CAAE,mBAAmB,CACzBC,OAAO,cACLX,IAAA,CAAC1B,SAAS,EAAAsC,QAAA,cACRZ,IAAA,CAACH,cAAc,GAAiB,CAAC,CACxB,CAEf,CAAC,CACD,CACEa,IAAI,CAAE,SAAS,CACfC,OAAO,cAAEX,IAAA,CAACb,MAAM,GAAS,CAC3B,CAAC,CACD,CACEuB,IAAI,CAAE,kBAAkB,CACxBC,OAAO,cAAEX,IAAA,CAACZ,kBAAkB,GAAqB,CACnD,CAAC,CACD,CACEsB,IAAI,CAAE,iBAAiB,CACvBC,OAAO,cAAEX,IAAA,CAACF,iBAAiB,GAAoB,CACjD,CAAC,CACD,CACEY,IAAI,CAAE,GAAG,CACTC,OAAO,cAAEX,IAAA,CAAClB,YAAY,GAAe,CACvC,CAAC,CACF,CAAC,CAEF,QAAS,CAAA+B,GAAGA,CAAA,CAAG,CACb,GAAM,CAAAC,QAAQ,CAAGtC,WAAW,CAAC,CAAC,CAC9B,GAAM,CAAAuC,IAAI,CAAGtC,WAAW,CAACE,kBAAkB,CAAC,CAC5C,GAAM,CAAAqC,WAAW,CAAGvC,WAAW,CAACG,iBAAiB,CAAC,CAElDL,SAAS,CAAC,UAAM,CACduC,QAAQ,CAACpC,cAAc,CAAC,CAAC,CAAC,CAC5B,CAAC,CAAE,CAACoC,QAAQ,CAAC,CAAC,CAEdvC,SAAS,CAAC,UAAM,CACd,GAAIwC,IAAI,CAAE,CACRD,QAAQ,CAACjC,uBAAuB,CAAC,CAAC,CAAC,CACnC;AACAiC,QAAQ,CAAC5B,sBAAsB,CAAC,CAAC,CAAC,CACpC,CACF,CAAC,CAAE,CAAC4B,QAAQ,CAAEC,IAAI,CAAC,CAAC,CAEpB,mBACEf,IAAA,CAAAI,SAAA,EAAAQ,QAAA,cACEZ,IAAA,QAAKiB,SAAS,CAAC,KAAK,CAAAL,QAAA,CACjBI,WAAW,eACVhB,IAAA,CAACL,QAAQ,CAAAuB,aAAA,CAAAA,aAAA,EAACC,QAAQ,CAAEvB,aAAc,EAAKS,OAAO,MAAAO,QAAA,cAC5CZ,IAAA,CAAC9B,cAAc,EAACuC,MAAM,CAAEA,MAAO,CAAE,CAAC,EAC1B,CACX,CAEE,CAAC,CACN,CAAC,CAEP,CAEA,cAAe,CAAAI,GAAG"},"metadata":{},"sourceType":"module","externalDependencies":[]}