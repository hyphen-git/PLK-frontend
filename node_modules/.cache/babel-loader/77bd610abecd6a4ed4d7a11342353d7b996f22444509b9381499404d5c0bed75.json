{"ast":null,"code":"import _regeneratorRuntime from\"/home/hyphen/MERN-ecommerce-Frontend/node_modules/@babel/runtime/helpers/esm/regeneratorRuntime.js\";import _asyncToGenerator from\"/home/hyphen/MERN-ecommerce-Frontend/node_modules/@babel/runtime/helpers/esm/asyncToGenerator.js\";import{createAsyncThunk,createSlice}from'@reduxjs/toolkit';import{addToCart,deleteItemFromCart,fetchItemsByUserId,resetCart,updateCart}from'./cartAPI';var initialState={status:'idle',items:[],cartLoaded:false};export var addToCartAsync=createAsyncThunk('cart/addToCart',/*#__PURE__*/function(){var _ref2=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee(_ref){var item,alert,response;return _regeneratorRuntime().wrap(function _callee$(_context){while(1)switch(_context.prev=_context.next){case 0:item=_ref.item,alert=_ref.alert;_context.next=3;return addToCart(item);case 3:response=_context.sent;alert.success('Item Added to Cart');// The value we return becomes the `fulfilled` action payload\nreturn _context.abrupt(\"return\",response.data);case 6:case\"end\":return _context.stop();}},_callee);}));return function(_x){return _ref2.apply(this,arguments);};}());export var fetchItemsByUserIdAsync=createAsyncThunk('cart/fetchItemsByUserId',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee2(){var response;return _regeneratorRuntime().wrap(function _callee2$(_context2){while(1)switch(_context2.prev=_context2.next){case 0:_context2.next=2;return fetchItemsByUserId();case 2:response=_context2.sent;return _context2.abrupt(\"return\",response.data);case 4:case\"end\":return _context2.stop();}},_callee2);})));export var updateCartAsync=createAsyncThunk('cart/updateCart',/*#__PURE__*/function(){var _ref4=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee3(update){var response;return _regeneratorRuntime().wrap(function _callee3$(_context3){while(1)switch(_context3.prev=_context3.next){case 0:_context3.next=2;return updateCart(update);case 2:response=_context3.sent;return _context3.abrupt(\"return\",response.data);case 4:case\"end\":return _context3.stop();}},_callee3);}));return function(_x2){return _ref4.apply(this,arguments);};}());export var deleteItemFromCartAsync=createAsyncThunk('cart/deleteItemFromCart',/*#__PURE__*/function(){var _ref5=_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee4(itemId){var response;return _regeneratorRuntime().wrap(function _callee4$(_context4){while(1)switch(_context4.prev=_context4.next){case 0:_context4.next=2;return deleteItemFromCart(itemId);case 2:response=_context4.sent;return _context4.abrupt(\"return\",response.data);case 4:case\"end\":return _context4.stop();}},_callee4);}));return function(_x3){return _ref5.apply(this,arguments);};}());export var resetCartAsync=createAsyncThunk('cart/resetCart',/*#__PURE__*/_asyncToGenerator(/*#__PURE__*/_regeneratorRuntime().mark(function _callee5(){var response;return _regeneratorRuntime().wrap(function _callee5$(_context5){while(1)switch(_context5.prev=_context5.next){case 0:_context5.next=2;return resetCart();case 2:response=_context5.sent;return _context5.abrupt(\"return\",response.data);case 4:case\"end\":return _context5.stop();}},_callee5);})));export var cartSlice=createSlice({name:'cart',initialState:initialState,reducers:{},extraReducers:function extraReducers(builder){builder.addCase(addToCartAsync.pending,function(state){state.status='loading';}).addCase(addToCartAsync.fulfilled,function(state,action){state.status='idle';state.items.push(action.payload);}).addCase(fetchItemsByUserIdAsync.pending,function(state){state.status='loading';}).addCase(fetchItemsByUserIdAsync.fulfilled,function(state,action){state.status='idle';state.items=action.payload;state.cartLoaded=true;}).addCase(fetchItemsByUserIdAsync.rejected,function(state,action){state.status='idle';state.cartLoaded=true;}).addCase(updateCartAsync.pending,function(state){state.status='loading';}).addCase(updateCartAsync.fulfilled,function(state,action){state.status='idle';var index=state.items.findIndex(function(item){return item.id===action.payload.id;});state.items[index]=action.payload;}).addCase(deleteItemFromCartAsync.pending,function(state){state.status='loading';}).addCase(deleteItemFromCartAsync.fulfilled,function(state,action){state.status='idle';var index=state.items.findIndex(function(item){return item.id===action.payload.id;});state.items.splice(index,1);}).addCase(resetCartAsync.pending,function(state){state.status='loading';}).addCase(resetCartAsync.fulfilled,function(state,action){state.status='idle';state.items=[];});}});// export const { increment } = cartSlice.actions;\nexport var selectItems=function selectItems(state){return state.cart.items;};export var selectCartStatus=function selectCartStatus(state){return state.cart.status;};export var selectCartLoaded=function selectCartLoaded(state){return state.cart.cartLoaded;};export default cartSlice.reducer;","map":{"version":3,"names":["createAsyncThunk","createSlice","addToCart","deleteItemFromCart","fetchItemsByUserId","resetCart","updateCart","initialState","status","items","cartLoaded","addToCartAsync","_ref2","_asyncToGenerator","_regeneratorRuntime","mark","_callee","_ref","item","alert","response","wrap","_callee$","_context","prev","next","sent","success","abrupt","data","stop","_x","apply","arguments","fetchItemsByUserIdAsync","_callee2","_callee2$","_context2","updateCartAsync","_ref4","_callee3","update","_callee3$","_context3","_x2","deleteItemFromCartAsync","_ref5","_callee4","itemId","_callee4$","_context4","_x3","resetCartAsync","_callee5","_callee5$","_context5","cartSlice","name","reducers","extraReducers","builder","addCase","pending","state","fulfilled","action","push","payload","rejected","index","findIndex","id","splice","selectItems","cart","selectCartStatus","selectCartLoaded","reducer"],"sources":["/home/hyphen/MERN-ecommerce-Frontend/src/features/cart/cartSlice.js"],"sourcesContent":["import { createAsyncThunk, createSlice } from '@reduxjs/toolkit';\nimport { addToCart, deleteItemFromCart, fetchItemsByUserId, resetCart, updateCart } from './cartAPI';\n\nconst initialState = {\n  status: 'idle',\n  items: [],\n  cartLoaded: false\n};\n\nexport const addToCartAsync = createAsyncThunk(\n  'cart/addToCart',\n  async ({item, alert}) => {\n    const response = await addToCart(item);\n    alert.success('Item Added to Cart');\n\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const fetchItemsByUserIdAsync = createAsyncThunk(\n  'cart/fetchItemsByUserId',\n  async () => {\n    const response = await fetchItemsByUserId();\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const updateCartAsync = createAsyncThunk(\n  'cart/updateCart',\n  async (update) => {\n    const response = await updateCart(update);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const deleteItemFromCartAsync = createAsyncThunk(\n  'cart/deleteItemFromCart',\n  async (itemId) => {\n    const response = await deleteItemFromCart(itemId);\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const resetCartAsync = createAsyncThunk(\n  'cart/resetCart',\n  async () => {\n    const response = await resetCart();\n    // The value we return becomes the `fulfilled` action payload\n    return response.data;\n  }\n);\n\nexport const cartSlice = createSlice({\n  name: 'cart',\n  initialState,\n  reducers: {\n  },\n  extraReducers: (builder) => {\n    builder\n      .addCase(addToCartAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(addToCartAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.items.push(action.payload);\n      })\n      .addCase(fetchItemsByUserIdAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(fetchItemsByUserIdAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.items = action.payload;\n        state.cartLoaded = true;\n      })\n      .addCase(fetchItemsByUserIdAsync.rejected, (state, action) => {\n        state.status = 'idle';\n        state.cartLoaded = true;\n      })\n      .addCase(updateCartAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(updateCartAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        const index =  state.items.findIndex(item=>item.id===action.payload.id)\n        state.items[index] = action.payload;\n      })\n      .addCase(deleteItemFromCartAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(deleteItemFromCartAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        const index =  state.items.findIndex(item=>item.id===action.payload.id)\n        state.items.splice(index,1);\n      })\n      .addCase(resetCartAsync.pending, (state) => {\n        state.status = 'loading';\n      })\n      .addCase(resetCartAsync.fulfilled, (state, action) => {\n        state.status = 'idle';\n        state.items = [];\n      })\n  },\n});\n\n// export const { increment } = cartSlice.actions;\n\nexport const selectItems = (state) => state.cart.items;\nexport const selectCartStatus = (state) => state.cart.status;\nexport const selectCartLoaded = (state) => state.cart.cartLoaded;\n\nexport default cartSlice.reducer;\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}